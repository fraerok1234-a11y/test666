# Инструкция по публикации в Google Play Store

## Шаг 1: Подготовка аккаунта Google Play Console

1. Создайте аккаунт разработчика Google Play:
   - Перейдите на https://play.google.com/console
   - Зарегистрируйтесь (стоимость: $25 единоразово)
   - Заполните профиль разработчика

## Шаг 2: Создание приложения в Play Console

1. Войдите в Google Play Console
2. Нажмите "Создать приложение"
3. Заполните основную информацию:
   - Название: "Тестовое Приложение" (или ваше название)
   - Язык по умолчанию: Русский
   - Тип приложения: Приложение
   - Бесплатное приложение: Да (покупки внутри приложения)

## Шаг 3: Настройка In-App Products (Внутренние покупки)

1. В меню приложения выберите **"Монетизация" → "Продукты и подписки"**
2. Нажмите **"Создать продукт"**
3. Выберите **"Управляемый продукт"** (Managed Product)
4. Заполните форму:
   - **ID продукта**: `access_tests` (должен совпадать с PRODUCT_ID в `services/purchaseService.ts`)
   - **Название**: "Полный доступ к тестам"
   - **Описание**: "Разблокирует все тесты и функции приложения"
   - **Цена**: Установите желаемую цену (например, 99₴ или $2.99)
   - **Статус**: Активен

5. Сохраните продукт

## Шаг 4: Настройка подписи приложения

### Вариант A: Автоматическая подпись через EAS (Рекомендуется)

EAS автоматически создаст ключ подписи при первой сборке.

### Вариант B: Ручная подпись

1. Создайте keystore:
```bash
keytool -genkeypair -v -storetype PKCS12 -keystore my-release-key.keystore -alias my-key-alias -keyalg RSA -keysize 2048 -validity 10000
```

2. Сохраните пароли и информацию о keystore в безопасном месте!

3. Добавьте в `app.json`:
```json
"android": {
  "package": "com.testapp.android",
  "versionCode": 1,
  "permissions": [],
  "playStoreUrl": "https://play.google.com/store/apps/details?id=com.testapp.android"
}
```

## Шаг 5: Сборка приложения

1. Установите зависимости:
```bash
cd TestApp
npm install
```

2. Войдите в Expo:
```bash
npx expo login
```

3. Соберите Android App Bundle (AAB):
```bash
npx eas build --platform android --profile production
```

4. Дождитесь завершения сборки (5-15 минут)
5. Скачайте `.aab` файл из Expo Dashboard

## Шаг 6: Загрузка в Play Console

1. В Play Console выберите ваше приложение
2. Перейдите в **"Производство" → "Создать выпуск"**
3. Загрузите `.aab` файл
4. Заполните примечания к выпуску (что нового в этой версии)

## Шаг 7: Заполнение информации о приложении

### Основная информация:
- **Название приложения**: Тестовое Приложение
- **Краткое описание**: Приложение для прохождения различных тестов
- **Полное описание**: 
```
Приложение для прохождения тестов различных типов:
- Викторины для проверки знаний
- Личностные тесты
- Оценка навыков

Приобретите полный доступ, чтобы разблокировать все функции!
```

### Графические ресурсы:
- **Иконка приложения**: 512x512 px (PNG, без прозрачности)
- **Feature Graphic**: 1024x500 px
- **Скриншоты**: Минимум 2, максимум 8
  - Телефон: 16:9 или 9:16, минимум 320px по короткой стороне
  - Планшет (опционально): 16:9 или 9:16

### Категория и теги:
- **Категория**: Образование / Развлечения
- **Теги**: тесты, викторина, образование, личность

## Шаг 8: Контентный рейтинг

1. Заполните анкету контентного рейтинга
2. Для приложения с тестами обычно: **PEGI 3** или **ESRB Everyone**

## Шаг 9: Политика конфиденциальности

1. Создайте страницу с политикой конфиденциальности
2. Укажите URL в Play Console
3. Минимальная политика должна включать:
   - Какие данные собираются
   - Как используются данные
   - Информация о покупках

Пример: "Приложение собирает информацию о покупках через Google Play Billing для предоставления доступа к функциям. Данные не передаются третьим лицам."

## Шаг 10: Целевая аудитория и контент

1. Укажите, что приложение предназначено для детей (если да)
2. Заполните информацию о рекламе (если есть)
3. Укажите, что приложение содержит покупки внутри приложения

## Шаг 11: Тестирование

### Внутреннее тестирование:
1. Создайте список тестировщиков (до 100 email)
2. Загрузите сборку во внутренний трек
3. Тестировщики получат ссылку для установки

### Закрытое тестирование (опционально):
1. Создайте группу закрытого тестирования
2. Добавьте тестировщиков
3. Проверьте покупки в тестовом режиме

## Шаг 12: Публикация

1. После успешного тестирования перейдите в **"Производство"**
2. Проверьте все разделы (зеленые галочки)
3. Нажмите **"Отправить на проверку"**
4. Ожидайте проверки Google (обычно 1-3 дня)

## Важные замечания

### Тестирование покупок:
- Используйте тестовые аккаунты Google Play
- Добавьте тестовые аккаунты в Play Console → Настройки → Управление тестовыми аккаунтами
- Тестовые покупки не списывают реальные деньги

### Безопасность:
- Никогда не коммитьте keystore в Git
- Храните пароли от keystore в безопасном месте
- Используйте EAS для автоматической подписи (рекомендуется)

### Обновления:
- При обновлении приложения увеличьте `versionCode` в `app.json`
- Обновите `version` (например, "1.0.1")
- Соберите новую версию и загрузите в Play Console

## Проверка перед публикацией

- [ ] Приложение собирается без ошибок
- [ ] Покупки работают в тестовом режиме
- [ ] Все экраны отображаются корректно
- [ ] Иконки и графические ресурсы загружены
- [ ] Политика конфиденциальности создана
- [ ] Контентный рейтинг заполнен
- [ ] Описание приложения заполнено
- [ ] Скриншоты добавлены

## Поддержка

Если возникли проблемы:
1. Проверьте логи сборки в Expo Dashboard
2. Проверьте документацию: https://docs.expo.dev/build/introduction/
3. Проверьте документацию Play Console: https://support.google.com/googleplay/android-developer

## Полезные ссылки

- Expo EAS Build: https://docs.expo.dev/build/introduction/
- Google Play Console: https://play.google.com/console
- React Native IAP: https://github.com/dooboolab/react-native-iap
- Google Play Billing: https://developer.android.com/google/play/billing




